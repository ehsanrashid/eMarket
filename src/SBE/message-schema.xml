<?xml version="1.0" encoding="UTF-8"?>
<sbe:messageSchema xmlns:sbe="http://fixprotocol.io/2016/sbe"
                   package="SBE"
                   id="1"
                   version="1"
                   semanticVersion="1.0.0"
                   byteOrder="littleEndian">

  <types>

    <composite name="Char16str" description="16-byte string">
      <type name="v" primitiveType="char" length="16"/>
    </composite>
    <composite name="Char32str" description="32-byte string">
      <type name="v" primitiveType="char" length="32"/>
    </composite>
    <composite name="Char48str" description="48-byte string">
      <type name="v" primitiveType="char" length="48"/>
    </composite>
    <composite name="Char64str" description="64-byte string">
      <type name="v" primitiveType="char" length="64"/>
    </composite>

    <composite name="messageHeader" description="SBE Standard Message Header">
      <type name="blockLength" primitiveType="uint16"/>
      <type name="templateId"  primitiveType="uint16"/>
      <type name="schemaId"    primitiveType="uint16"/>
      <type name="version"     primitiveType="uint16"/>
    </composite>

    <composite name="AppHeader" description="Business header carried inside each message">
      <type  name="version"         primitiveType="uint16"/>
      <field name="messageType"     type="Char16str"/>
      <field name="messageId"       type="Char32str"/>
      <field name="messageCode"     type="Char16str"/>
      <type  name="sequence"        primitiveType="uint32"/>
      <type  name="timestamp"       primitiveType="uint64" semanticType="UTCTimestampNanos"/>
      <type  name="statusCode"      primitiveType="uint16"/>
      <field name="deviceId"        type="Char32str"/>
      <field name="deviceName"      type="Char64str"/>
      <field name="deviceIp"        type="Char48str"/>
      <field name="location"        type="Char64str"/>
    </composite>
    
  </types>

  <message name="RegistrationRequest" id="101" description="Registration Request">
    <field name="header"      id="1" type="AppHeader"/>
    <field name="phoneNumber" id="2" type="Char16str"/>
  </message>

  <message name="RegistrationResponse" id="102" description="Registration Response">
    <field name="header"       id="1" type="AppHeader"/>
    <field name="message"      id="2" type="Char64str"/>
    <field name="token"        id="3" type="Char32str"/>
    <type  name="expiresIn"    id="4" primitiveType="uint32" semanticType="Duration"/>
    <field name="refreshToken" id="5" type="Char32str"/>
  </message>

</sbe:messageSchema>
